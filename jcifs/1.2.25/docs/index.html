<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<STYLE TYPE="text/css">
        BODY {
            background-color: #808080;
        }
        H1 {
            font-family: verdana, arial;
            font-size: normal;
            color: #000000;
        }
        H2 {
            font-family: arial, verdana;
            font-size: normal;
            color: #000000;
        }
        H3 {
            font-family: arial, verdana;
            font-size: small;
            color: #000080;
        }
        A {
            font-family: arial, verdana;
            font-weight: bold;
            color: #000080;
        }
        A:HOVER {
            text-decoration: none;
        }
        BIG {
            color: #000080;
            font-family: arial, verdana;
            font-weight: bold;
            font-size: 50px;
        }
        EM {
            color: #000080;
            font-family: Times New Roman;
            font-weight: bold;
            font-size: 20px;
        }
        PRE {
            font-family: monospaced, courier;
            border: 1px lightgrey dotted;
            white-space: pre; 
            color: black;
            padding: 4px;
            background-color: #f0f0f0; 
        }
        TABLE {
            border-collapse: collapse;
        }
        TH, TD {
            font-family: verdana, arial;
            font-size: small;
        }
        .mainpane {
            background-color: #ffffff;
            padding: 10px;
        }
        .leftpane {
            background-color: #e0e0FF;
            padding: 10px;
        }
        .middlepane {
            background-color: #ffffff;
            padding: 10px;
        }
        .footer {
            background-color: #808080;
        }
    </STYLE>
<TITLE>JCIFS</TITLE>
</HEAD>
<BODY>
<TABLE>
<TR>
<TD class="mainpane" colspan="2">
<center>
<img alt="JCIFS" src="jcifs.png"><H2>The Java CIFS Client Library</H2>
</center>
<P></P>
JCIFS is an <a href="http://www.opensource.org/docs/definition_plain.php">Open Source</a> client library that implements the CIFS/SMB networking protocol in 100% Java. CIFS is the standard file sharing protocol on the Microsoft Windows platform (e.g. Map Network Drive ...). This client is used extensively in production on large Intranets.
</TD>
</TR>
<TR>
<TD class="leftpane" width="350" valign="top">
<h1>Links</h1>
<a href="src/">Download</a>
<br>
<a href="src/docs/ntlmhttpauth.html">JCIFS NTLM HTTP Authentication</a>
<br>
<a href="src/docs/faq.html">The FAQ</a>
<br>
<a href="http://news.gmane.org/gmane.network.samba.java">Mailing List Archive (GMANE)</a>
<br>
<a href="src/docs/capture.html">Obtaining a Network Packet Capture</a>
<br>
<h2>Developer Information</h2>
<a href="src/docs/api/">JCIFS API Documentation</a>
<br>
<a href="src/docs/api/overview-summary.html#scp">Setting Client Properties</a>
<br>
<a href="src/docs/resolver.html">Setting Name Resolution Properties</a>
<br>
<a href="src/docs/pipes.html">Using JCIFS to Connect to Win32 Named Pipes</a>
<br>
<a href="src/docs/authhandler.html">JCIFS Exceptions and NtlmAuthenticator</a>
<br>
<a href="src/docs/httpclient.html">Using JCIFS NTLM Authentication for HTTP Connections</a>
<br>
<a href="http://www.gnu.org/licenses/lgpl-2.1.txt">JCIFS is Licensed Under the LGPL</a>
<br>
<h2>Related Java Projects</h2>
<a href="http://sourceforge.net/projects/j-interop/">j-interop - Java COM Interop (uses Jarapac)</a>
<br>
<a href="http://sharehound.sourceforge.net/">sharehound - CIFS network search engine</a>
<br>
<a href="http://sourceforge.net/projects/webdisk/">IntegraTUM WebDisk - HTTP to CIFS gateway</a>
<br>
<a href="http://sourceforge.net/projects/jcifs-ext/">jcifs-ext - JCIFS Extensions</a>
<br>
<a href="http://sourceforge.net/projects/jarapac/">Jarapac - DCE/RPC in Java</a>
<br>
<a href="http://danadler.com/jacob/">The Jacob Project - Java/COM Bridge</a>
<br>
<a href="http://www.jnbridge.com/">JNBridge - Java/.NET Bridge</a>
<br>
<a href="http://j-integra.intrinsyc.com/j-integra/info/">J-Integra - DCE/RPC in Java</a>
<br>
<a href="http://sourceforge.net/projects/davenport/">Davenport - WebDAV to CIFS gateway</a>
<br>
<a href="http://sourceforge.net/project/showfiles.php?group_id=143373&package_id=248550">Alfresco JLAN Shared File Drive Interface</a>
<br>
<h2>CIFS Authorities</h2>
<a href="http://www.samba.org/">http://www.samba.org/</a>
<br>
<a href="http://www.samba-tng.org/">http://www.samba-tng.org/</a>
<br>
<h2>Other CIFS Utilities and Tools</h2>
<a href="http://www.amigasamba.org/">Samba for Amiga</a>
<br>
<a href="http://www.obdev.at/products/sharity-light/">Sharity-Lite</a>
<br>
<a href="http://shukwit.com/main.php">SMB Browse for MacOSX</a>
<br>
<a href="http://xamba.sourceforge.net/index.shtml">Xamba Network Integration Project</a>
<br>
<h2>MSRPC</h2>
<a href="http://www.bindview.com/Support/RAZOR/Utilities/Windows/rpctools1.0-readme.cfm">Rpcdump utility for querying RPC servers</a>
<br>
<a href="http://www.opengroup.org/onlinepubs/9629399/">OpenGroup DCE/RPC Specification</a>
<br>
<a href="http://www.opengroup.org/onlinepubs/9629399/chap14.htm">OpenGroup DCE/RPC Specification - NDR</a>
<br>
<a href="http://msdn.microsoft.com/library/default.asp?url=/archive/en-us/dnarolegen/html/msdn_aboutole.asp">What OLE Is Really About</a>
<br>
<h2>Kerberos</h2>
<a href="http://www.ietf.org/rfc/rfc1510.txt">RFC1510 - Kerberos V5 Specification</a>
<br>
<a href="http://www.serverwatch.com/tutorials/article.php/2176201">How a Kerberos Logon Works in Win2K</a>
<br>
<a href="http://www-106.ibm.com/developerworks/java/library/j-gss-sso/">JGSS Example</a>
<br>
<a href="http://www.microsoft.com/technet/prodtechnol/windows2000serv/maintain/security/kerberos.mspx">Kerberos Explained</a>
<br>
<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnkerb/html/msdn_pac.asp">W2K PAC Specification</a>
<br>
<h2>Technical Documentation</h2>
<a href="http://ubiqx.org/cifs/">"Implementing CIFS" (complete online book)</a>
<br>
<a href="http://ubiqx.org/cifs/rfc-draft/draft-leach-cifs-v1-spec-02.html"><i>Annotated</i> CIFS Specification: draft-leach-cifs-v1-spec-02.html</a>
<br>
<a href="http://www.snia.org/tech_activities/CIFS/">SNIA CIFS Technical Reference (V1.0)</a>
<br>
<a href="http://davenport.sourceforge.net/ntlm.html">The NTLM Authentication Protocol</a>
<br>
<a href="http://www.pluralsight.com/keith/book/">A .NET Developer's Guide to Windows Security</a>
<br>
<a href="http://msdn.microsoft.com/library/en-us/debug/base/system_error_codes__0-499_.asp">Windows System Error Codes</a>
<br>
<a href="http://msdn.microsoft.com/library/en-us/netmgmt/netmgmt/network_management_error_codes.asp">Windows Network Management Error Codes</a>
<br>
<a href="http://ubiqx.org/cifs/rfc-draft/rfc1001.html">rfc1001 - NetBIOS Concepts and Methods</a>
<br>
<a href="http://ubiqx.org/cifs/rfc-draft/rfc1002.html">rfc1002 - NetBIOS Detailed Specifications</a>
<br>
<a href="http://www.codefx.com/whitepapers.htm">CIFS Explained <small>(A whitepaper by John Kleven)</small></a>
<br>
<a href="http://www.ietf.org/internet-drafts/draft-crhertel-smb-url-07.txt">SMB URL draft specification V07</a>
<br>
<a href="http://ourworld.compuserve.com/homepages/timothydevans/nbf.htm">NetBIOS, NetBEUI, NBF, SMB, CIFS networking links page</a>
<br>
<a href="http://msdn.microsoft.com/library/backgrnd/html/msdn_winswp.htm">Microsoft Writeup on WINS behavior</a>
<br>
<a href="http://msdn.microsoft.com/library/backgrnd/html/msdn_winsoverview.htm">Microsoft Writeup on WINS under W2K</a>
<br>
<a href="http://www.microsoft.com/windows2000/en/server/help/sag_WINS_und_BrowsingWithWins.htm">Microsoft Server Documentation on Browsing WANs using WINS</a>
<br>
<a href="http://www.windowsitlibrary.com/Documents/Book.cfm?DocumentID=386">Windows IT Library: NT Network Plumbing</a>
<br>
<a href="http://www.thursby.com/CIFS/">Thursby Software's CIFS pages</a>
<br>
<a href="http://www.linux-mag.com/cgi-bin/printer.pl?issue=2001-05&article=smb">Linux Mag: Understanding the Network Neighborhood</a>
<br>
<h2>Other</h2>
<a href="https://lists.samba.org/listinfo/jcifs">Join the JCIFS Mailing List</a>
<br>
<a href="src/src/jcifs/">Browse the Source</a>
<br>
<a href="src/docs/batching.html">Batching</a>
<br>
<a href="http://www.gnu.org/">http://www.gnu.org/</a>
<br>
<a href="http://www.opensource.org/">http://www.opensource.org/</a>
<br>
<a href="http://discuss.microsoft.com/archives/cifs.html">Microsoft's CIFS Mailing List Archives</a>
<br>
</TD><TD class="middlepane" valign="top">
<h1>News</h1>
<EM>jcifs-1.2.25 released / ArrayIndexOutOfBoundsException, copyTo and IBM iSeries Fixes</EM>
<BR>
<SMALL><B>posted by Mike, Oct 20, 2008</B></SMALL>
<BR>
An ArrayIndexOutOfBoundsException could occur listing a large number of shares (DCERPC response larger than 65535 bytes). The <tt>copyTo</tt> method could deadlock if the server was disconnected during a copy. The IBM iSeries server can send the NativeFileSystem field in ASCII even though Unicode was negotiated and it requires the '?????' service string (and not 'A:'). These issues have been fixed.
<p></p>
The JCIFS Team would like to thank <a href="http://www.metacarta.com/">MetaCarta, Inc.</a> for supporting this work. MetaCarta, Inc., a provider of geographic intelligence solutions, offers users map-driven geographic search, geographic referencing, and data visualization capabilities.
<P></P>
<EM>jcifs-1.2.24 released / Stand-Alone DFS Fixed</EM>
<BR>
<SMALL><B>posted by Mike, Jul 23, 2008</B></SMALL>
<BR>
The recent domain-based DFS work broke stand-alone DFS. This has been fixed. Both stand-alone and domain-based DFS should work properly now.
<p></p>
Note: The 1.2.23 was a dud - it did not really contain the said fix.
<P></P>
<EM>jcifs-1.2.22 released / InterruptedIOExceptions, Invalid parameter Exceptions, DFS and more</EM>
<BR>
<SMALL><B>posted by Mike, Jun 25, 2008</B></SMALL>
<BR>
The SmbFileInputStream methods will now throw InterruptedIOExceptions where apppropriate whereas previously they would throw SmbExceptions with a root cause of TransportException with a root cause of InterruptedException.
<p></p>
If SmbSession.send() threw an exception it could trigger "Invalid parameter" exceptions on subsequent requests.
<p></p>
An InterruptedException in the NameServiceClient was being caught and ignored. It will now be re-thrown as an IOException so that all threads used with/by JCIFS can be triggered to return immediately.
<p></p>
A jcifs.smb.client.dfs.disabled property has been added to disable domain based DFS so that JCIFS can be configured not to try and fail to resolve paths as domain paths in non-domain environments (e.g. on the local machine).
<p></p>
The getSecurity and getShareSecurity methods will now return null if no DACL is present on a file whereas previously it would return an empty array. This allows the caller to distinguish between an object that has a DACL with no elements and one that has no DACL at all.
<p></p>
The JCIFS Team would like to thank <a href="http://www.metacarta.com/">MetaCarta, Inc.</a> for supporting this work. MetaCarta, Inc., a provider of geographic intelligence solutions, offers users map-driven geographic search, geographic referencing, and data visualization capabilities.
<P></P>
<EM>jcifs-1.2.21 released / DFS Cache Bugfix</EM>
<BR>
<SMALL><B>posted by Mike, May 28, 2008</B></SMALL>
<BR>
The DFS cache was not properly synchronized. This has been fixed.
The trusted domains are now looked up with &lt;1C&gt; NetBIOS lookups to speed discovery.
<p></p>
Thanks to Ronny S. for reporting these issues.
<p></p>

<P></P>
<EM>jcifs-1.2.19 released / DFS Roots on non-Domain Controllers</EM>
<BR>
<SMALL><B>posted by Mike, Apr 6, 2008</B></SMALL>
<BR>
This release adds proper support for domain based DFS roots. Previously JCIFS could not see DFS roots that were not hosted on domain controllers. JCIFS will now properly discover and cache DFS topology information using a series of referrals.
The new code also eliminates the now-obsolete behavior of building a merged list of shares across hosts.
A new NetrDfsEnumEx RPC has been added.
Two new properties have been added: jcifs.smb.client.dfs.ttl and jcifs.smb.client.dfs.strictView.
Two SmbComOpenAndX parameters were incorrectly swapped which could cause failure on Windows 98.
<p></p>
The JCIFS Team would like to thank <a href="http://www.metacarta.com/">MetaCarta, Inc.</a> for supporting this work. MetaCarta, Inc., a provider of geographic intelligence solutions, offers users map-driven geographic search, geographic referencing, and data visualization capabilities.
<P></P>
<EM>jcifs-1.2.18 released / DCERPC, Robust Recovery, URL Decoding, NPEs and Much More</EM>
<BR>
<SMALL><B>posted by Mike, Feb 18, 2008</B></SMALL>
<BR>
This release includes a few significant fixes for DCERPC related issues. It also includes numerous minor fixes for issues that have accumulated over time. The issues that have been fixed are as follows:

<ul>

<li>
The SID.getServerSid() method could fail with NetApp servers due to a "generic" mask values. The mask has been changed to 0x00000001 which corresponds to an LsaOpenPolicy mask of POLICY_VIEW_LOCAL_INFORMATION.
</li>
<li>
The LsaPolicyHandle class would not throw an error if the LsarOpenPolicy2 call failed. This has been fixed.
</li>
<li>
If a share was unshared while JCIFS was in the middle of reading files from it, the transport could enter an error state from which it could not immediately recover if the share was subsequently restored. A small change to SmbTransport.doRecv() fixes this problem.
</li>
<li>
The SmbFile constructor could inappropriately URL decode the authority component of SMB URLs.
</li>
<li>
The NTLM HTTP Filter documentation has been updated.
</li>
<li>
An Invalid state: 4 error has been fixed.
</li>
<li>
A NetBIOS name service issue caused by Jetdirect printers has been fixed.
</li>
<li>
An ArrayIndexOutOfBounds exception in the SmbException class has been fixed.
</li>
<li>
A NullPointerException in SmbSession.getChallengeForDomain() has been fixed.
</li>
<li>
A NullPointerException in NbtAddress related to hosts without adequate localhost address configuration has been fixed.
</li>
<li>
An ArrayIndexOutOfBounds exception could be thrown if a server requires NTLMv2. This exception has been replaced with a more informative one.
</li>
<li>
The SmbSessionSetup constructor will now compare the challenge and encryptionKey using Arrays.equals instead of == to satisfy unforseen use-cases that otherwise trigger an NT_STATUS_ACCESS_VIOLATION.
</li>

</ul>

The JCIFS Team would like to thank <a href="http://vivisimo.com/">Viv&iacute;simo, Inc.</a> for supporting this work. Viv&iacute;simo provides enterprises with innovative search solutions to find, access, and manipulate all content. For consumer web searches, Viv&iacute;simo offers Clusty.com.
<p></p>
The JCIFS Team would like to thank <a href="http://www.ioplex.com/">IOPLEX Software</a> for contributing to this work.
IOPLEX Software has many years of experience with HTTP Single Sign-On, Kerberos, NTLM, Active Directory, MSRPC and related networking protocols.
IOPLEX Software's Plexcel extension for PHP provides unmatched integration with Active Directory for PHP applications.
<P></P>
<EM>Alfresco releases Java CIFS server under GPL</EM>
<BR>
<SMALL><B>posted by Mike, Nov 2, 2007</B></SMALL>
<BR>

<a href="http://www.alfresco.com/">Alfresco</a> have announced the release of the <i>JLAN Shared File Drive Interface</i> under the terms of the Gnu General Public License (GPL). JLAN includes a CIFS server written in Java, as well as several other Java-based network components. 
<p></p>
"I am very excited about this Open Source contribution", said Chris Hertel, Samba Team member and co-founder the jCIFS project.  "Every Open Source CIFS implementation adds to the community's understanding, and to the utility of the protocol itself."
<p></p>Their <a href="http://www.alfresco.com/media/releases/2007/10/jlan1007/">press release</a> has a link to the source code at the bottom of the page.
<P></P>
<EM>jcifs-1.2.17 released / Minor Fix</EM>
<BR>
<SMALL><B>posted by Mike, Aug 15, 2007</B></SMALL>
<BR>
A try / catch clause that was accidentally introduced in a previous release has been removed.
<P></P>
<EM>jcifs-1.2.16 released / Domain-Based DFS Support</EM>
<BR>
<SMALL><B>posted by Mike, Aug 2, 2007</B></SMALL>
<BR>
With this release, JCIFS now supports domain-based DFS. With domain-based DFS, clients access DFS roots under the DNS domain name like \\example.com\dfs\foo so that users do not need to remember server names. However, for clients to work with these DFS roots they have to be prepared to connect to each domain controller as necessary to find the target share and successfully authenticate. JCIFS now includes this retry logic. JCIFS will also do something that it seems even Windows clients do not do - if you list the shares of a domain (e.g. <tt>(new SmbFile("smb://example.com/")).listFiles()</tt>), JCIFS will build a merged list of all shares on all domain controllers.
<p></p>
Note that these changes are fairly significant. Whenever JCIFS tries to connect to a server this new logic is used. So if anyone notices anything out of the ordinary please report it to the JCIFS mailing list.
<p></p>
The JCIFS Team would like to thank <a href="http://www.metacarta.com/">MetaCarta, Inc.</a> for supporting this work. MetaCarta, Inc., a provider of geographic intelligence solutions, offers users map-driven geographic search, geographic referencing, and data visualization capabilities.
<P></P>
<EM>jcifs-1.2.15 released / NetApp Compatibility, SMB signing with DFS and More</EM>
<BR>
<SMALL><B>posted by Mike, Jul 16, 2007</B></SMALL>
<BR>
This release includes some significant changes. Most of these changes are related to NetApp compatibility. The changes in this release include the following:
<ul>

<li>An SMB signing failure related to DFS that could result in "Access denied" errors has been fixed.</li>

<li>The DCERPC bind did not exactly mimic Windows which uses SMB_COM_{WRITE,READ}_ANDX. We were using TransactNmPipe throughout which could result in an 'Incorrect function' error when querying the LSA on a NetApp server. JCIFS now implements the bind exactly like Windows to help ensure compatibility with other servers.</li>

<li>Other changes related to NetApp compatibility include falling back to SamrConnect2 if a DCERPC_FAULT_OP_RNG_ERROR error occurs, more closely mimicking the SMB_COM_NT_CREATE_ANDX "extended" response, adjusting various RPC handle operation access masks, uncommenting some padding code that was commented out for what appeared to be a NetWare problem, disabling some logic to use port 139 if the jcifs.netbios.hostname was set and finally adding code to include LsarQosInfo structures in the MSRPC bind.</li>

<li>Some new error code information has been added.</li>

<li>Constants for common SIDs have been added to the SID class.</li>

<li>The SID.getGroupMemberSids() method will now return an empty SID array if the SID is not of type SID_TYPE_DOM_GRP or SID_TYPE_ALIAS.</li>

<li>A minor performance flaw in the DCERPC code was found and fixed.</li>

</ul>

<p></p>
The JCIFS Team would like to thank <a href="http://www.simple-groupware.de/">Simple Groupware Solutions</a> and the Leibniz Computing Centre Munich (LRZ) for supporting this work.
<p></p>
The JCIFS Team would like to thank <a href="http://vivisimo.com/">Viv&iacute;simo, Inc.</a> for supporting this work. Viv&iacute;simo provides enterprises with innovative search solutions to find, access, and manipulate all content. For consumer web searches, Viv&iacute;simo offers Clusty.com.
<P></P>
<EM>jcifs-1.2.14 released / SID.getGroupMemberSids() and the SAMR Interface</EM>
<BR>
<SMALL><B>posted by Mike, Jun 20, 2007</B></SMALL>
<BR>
A new <tt>SID.getGroupMemberSids()</tt> method has been added that will return the local group membership of SID (aka it's aliases). The SAMR interface has been added to the dcerpc code with the <tt>SamrEnumerateAliasesInDomain</tt> RPC and numerous other calls necessary to negotiate the various handles.
<p></p>
The JCIFS Team would like to thank <a href="http://vivisimo.com/">Viv&iacute;simo, Inc.</a> for supporting this work. Viv&iacute;simo provides enterprises with innovative search solutions to find, access, and manipulate all content. For consumer web searches, Viv&iacute;simo offers Clusty.com.
<P></P>
<EM>jcifs-krb5-1.2.13 released / Kerberos Authentication Support Update</EM>
<BR>
<SMALL><B>posted by Mike, Feb 8, 2007</B></SMALL>
<BR>
The stock jcifs-1.2.13 package has been patched by a third party to support Kerberos 5 / SPNEGO extended security authentication. Additionally, SMB signing and DFS issues that existed in jcifs-krb5-1.2.9 have been fixed.
<p></p>
The JCIFS team has compiled the package and confirmed that it works with at least the one test case provided (<tt>examples/KerberosAuthExample.java</tt>) but otherwise the code should be used with caution.
<p></p>
Great thanks again to Mr. Shun from Japan for contributing this work.
<P></P>
<EM>jcifs-1.2.13 released / Share ACLs, DFS Fixes and NoRouteToHostException Fallback</EM>
<BR>
<SMALL><B>posted by Mike, Jan 22, 2007</B></SMALL>
<BR>
A new <tt>SmbFile.getShareSecurity()</tt> method that uses a new <tt>MsrpcShareGetInfo/ShareInfo502</tt> RPC has been added. This will return the ACL for a share as opposed to the ACL for the directory shared. See the API documentation for details. Several DFS issues have been identified and fixed. If JCIFS receives a <tt>NoRouteToHostException</tt> on port 445 it will now try to fallback to port 139. This code has been tested fairly well already. There have been no changes since b4.
<p></p>
The JCIFS Team would like to thank <a href="http://www.metacarta.com/">MetaCarta, Inc.</a> for supporting this work. MetaCarta, Inc., a provider of geographic intelligence solutions, offers users map-driven geographic search, geographic referencing, and data visualization capabilities.
<P></P>
<EM>jcifs-krb5-1.2.9 released / Kerberos Authentication Support</EM>
<BR>
<SMALL><B>posted by Mike, Sep 13, 2006</B></SMALL>
<BR>
This package is stock jcifs-1.2.9 modified to support Kerberos 5 / SPNEGO extended security authentication. Please note that this has no impact on the HTTP Filter which still only supports NTLM.
<p></p>
The <tt>examples/KerberosAuthExample.java</tt> is included to demonstrate using this package however note that this example initializes a logon context from a username and password. In the steady-state it is more likely that the user will already have a credential (e.g. via kinit) in which case your application code would be different. You will need to familiarize yourself with JGSS and it's <tt>Krb5LogonModule</tt> to fully utilitize this new feature.
<p></p>
WARNING: This package has been reported to work by several users however the code has not been examined carefully by jCIFS maintainers and therefore should be considered highly experimental.
<p></p>
Note: This package has been compiled with Java 1.5. It may work with eariler versions of Java but you will need to recompile and experiment to determine what the precise requirements are.
<p></p>
Great thanks to Mr. Shun from Japan for contributing this work. Ever notice Japan always get's new stuff first?
<P></P>
<EM>jcifs-1.2.0 released / New Transport Layer, Port 445, getDiskFreeSpace</EM>
<BR>
<SMALL><B>posted by Mike, May 22, 2005</B></SMALL>
<BR>
The transport layer (the code that multiplexes requests from muliple threads over sockets) has occasionally caused trouble over the years. In general it was too complex. To remedy this problem the transport was rewritten and a forked 1.1.19 was released as the "trans" branch. This branch appears to be at stable enough that it is being released as 1.2.
<p></p>
The biggest change in this release should not be visible to users (hopefully) although some new features have managed to sneak in as a result of this merger. These new features are:
<ul>

<li>The client will now attempt to connect to port 445 as opposed to port 139. If this connection fails the client will fall-back to port 139.</li>

<li>If a share was disabled while jCIFS was connected an error would occur even if the share was reenabled before the client tried to access it. This has been fixed so that the client will reconnect and complete the current operation transparently.</li>

<li>The getDiskFreeSpace() method could report the wrong value for very large volumes. This has been fixed by adding a new info-level.</li>

<li>Named pipes were broken by changes for DCE/RPC transactions. They have been repaired.</li>

<li>The NetBIOS name resolution code will now use the <i>last</i> resource record in a name query response rather than the first. This appears to be more correct (at least with WMWare adapters on my XP workstation).</li>

<li>The client is generally faster because the transport is simpler. The amount of code for the transport is less than half of what it used to be.</li>

</ul> 
Developers writing Java network clients may want to look at the <tt>jcifs.util.transport.*</tt> classes.
<P></P>
<EM>jcifs-1.1.11 released / File Corruption Bugfix</EM>
<BR>
<SMALL><B>posted by Mike, May 4, 2005</B></SMALL>
<BR>
If a file is opened with <tt>SmbFileOutputStream</tt>, written to, and then the client waits for <tt>jcifs.smb.client.soTimeout</tt> without any communication to the target, a subsequent write could zero the contents of the file before the current file index resulting in file corruption. This problem has been fixed. And alternative to upgrading is to use <tt>RandomAccessFile</tt> which does not have this problem.
<p></p>
Also in the download area is the "trans" release. This version has a completely rewritten transport layer, proper port 445+139 support as well as the beginnings of new features destined for 2.0. Use with caution - it's green.
<P></P>
</TD>
</TR>
<TR>
<TD class="footer" colspan="2">
<hr noshade="noshade">
<small>
        Last updated Oct 20, 2008<BR>jcifs-1.2.25<BR>
        Copyright &copy; 2008 The JCIFS Project<BR>
<a style="color: black;" href="http://validator.w3.org/check/referer">validate this page</a></small></TD>
</TR>
</TABLE>
</BODY>
</HTML>
